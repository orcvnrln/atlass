<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Audit Tool</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f4f4f9; color: #333; padding: 20px; }
        .card { background: white; padding: 15px; margin: 10px 0; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .btn { background: #007bff; color: white; border: none; padding: 10px; cursor: pointer; }
        .issue { border-left: 4px solid #007bff; padding: 10px; margin: 5px 0; }
        .critical { border-left-color: #dc3545; }
        .high { border-left-color: #ff6b6b; }
        .medium { border-left-color: #ffc107; }
        .low { border-left-color: #00d4aa; }
    </style>
</head>
<body>
    <h1>Website Audit Tool</h1>
    <div class="card">
        <label>URL: <input type="url" id="url" placeholder="https://example.com"></label>
        <button class="btn" id="audit">Audit</button>
    </div>
    <div id="results"></div>

    <script>
        document.getElementById('audit').addEventListener('click', async () => {
            const url = document.getElementById('url').value;
            if (!url) return alert('Enter URL');

            document.getElementById('results').innerHTML = '<p>Auditing...</p>';

            try {
                const response = await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`);
                const html = await response.text();
                const doc = new DOMParser().parseFromString(html, 'text/html');

                const issues = [];
                // Performance
                if (!doc.querySelector('meta[name="viewport"]')) issues.push({ desc: 'No viewport meta', crit: 'high', fix: 'Add viewport meta', benefit: 'Better mobile' });
                // SEO
                const title = doc.querySelector('title');
                if (!title || title.textContent.length < 30) issues.push({ desc: 'Title issue', crit: 'medium', fix: 'Add proper title', benefit: 'SEO' });
                // UX
                const links = doc.querySelectorAll('a[href="#"]');
                if (links.length) issues.push({ desc: 'Empty links', crit: 'low', fix: 'Fix href', benefit: 'UX' });

                displayIssues(issues);
            } catch (e) {
                document.getElementById('results').innerHTML = `<p>Error: ${e.message}</p>`;
            }
        });

        function displayIssues(issues) {
            const res = document.getElementById('results');
            res.innerHTML = issues.map(i => `
                <div class="issue ${i.crit}">
                    <strong>${i.crit.toUpperCase()}:</strong> ${i.desc}<br>
                    Fix: ${i.fix}<br>
                    Benefit: ${i.benefit}
                </div>
            `).join('');
        }
    </script>
</body>
</html>
